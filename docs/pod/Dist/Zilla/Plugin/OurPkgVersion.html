<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Dist::Zilla::Plugin::OurPkgVersion</title>
    <script type="text/javascript" src="https://shjs.wdlabs.com/sh_main.min.js"></script>
    <script type="text/javascript" src="https://shjs.wdlabs.com/lang/sh_perl.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://shjs.wdlabs.com/css/sh_acid.css">
    <link type="text/css" rel="stylesheet" href="/css/default.css">
  </head>
  <body onload="sh_highlightDocument();">
    <div class="nx-header-flag-1"></div>
    <div class="nx-header-flag-2"></div>
    <div class="nx-header-title"><a href="/">ðŸŒ»</a> <a href="/pod/">ðŸ“–</a> Dist::Zilla::Plugin::OurPkgVersion</div>
    <!--Dist::Zilla::Plugin::OurPkgVersion--><a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#EXAMPLES'>EXAMPLES</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#PROPERTIES'>PROPERTIES</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Dist::Zilla::Plugin::OurPkgVersion - No line insertion and does Package version with our</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.21</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>in dist.ini</p>

<pre class="sh_perl">        [OurPkgVersion]</pre>

<p>in your modules</p>

<pre class="sh_perl">        # VERSION</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module was created as an alternative to <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3APlugin%3A%3APkgVersion" class="podlinkpod"
>Dist::Zilla::Plugin::PkgVersion</a> and uses some code from that module. This module is designed to use a the more readable format <code>our $VERSION = $version;</code> as well as not change then number of lines of code in your files, which will keep your repository more in sync with your CPAN release. It also allows you slightly more freedom in how you specify your version.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h2>

<p>in dist.ini</p>

<pre class="sh_perl">        ...
        version = 0.01;
        [OurPkgVersion]</pre>

<p>in lib/My/Module.pm</p>

<pre class="sh_perl">        package My::Module;
        # VERSION
        ...</pre>

<p>output lib/My/Module.pm</p>

<pre class="sh_perl">        package My::Module;
        our $VERSION = &#39;0.01&#39;; # VERSION
        ...</pre>

<p>please note that whitespace before the comment is significant so</p>

<pre class="sh_perl">        package My::Module;
        BEGIN {
                # VERSION
        }
        ...</pre>

<p>becomes</p>

<pre class="sh_perl">        package My::Module;
        BEGIN {
                our $VERSION = &#39;0.01&#39;; # VERSION
        }
        ...</pre>

<p>while</p>

<pre class="sh_perl">        package My::Module;
        BEGIN {
        # VERSION
        }
        ...</pre>

<p>becomes</p>

<pre class="sh_perl">        package My::Module;
        BEGIN {
        our $VERSION = &#39;0.01&#39;; # VERSION
        }
        ...</pre>

<p>you can also add additional comments to your comment</p>

<pre class="sh_perl">        ...
        # VERSION: generated by DZP::OurPkgVersion
        ...</pre>

<p>becomes</p>

<pre class="sh_perl">        ...
        our $VERSION = &#39;0.1.0&#39;; # VERSION: generated by DZP::OurPkgVersion
        ...</pre>

<p>you can also use perltidy&#39;s default static side comments (##)</p>

<pre class="sh_perl">        ...
        ## VERSION
        ...</pre>

<p>becomes</p>

<pre class="sh_perl">        ...
        our $VERSION = &#39;0.1.0&#39;; ## VERSION
        ...</pre>

<p>Also note, the package line is not in any way significant, it will insert the <code>our $VERSION</code> line anywhere in the file before <code># VERSION</code> as many times as you&#39;ve written <code># VERSION</code> regardless of whether or not inserting it there is a good idea. OurPkgVersion will not insert a version unless you have <code># VERSION</code> so it is a bit more work.</p>

<p>If you make a trial release, the comment will be altered to say so:</p>

<pre class="sh_perl">        # VERSION</pre>

<p>becomes</p>

<pre class="sh_perl">        our $VERSION = &#39;0.01&#39;; # TRIAL VERSION</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="BUILD"
>BUILD</a></dt>

<dd>
<p>Provides validations after object creation.</p>

<dt><a name="munge_files"
>munge_files</a></dt>

<dd>
<p>Override the default provided by <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3ARole%3A%3AFileMunger" class="podlinkpod"
>Dist::Zilla::Role::FileMunger</a> to limit the number of files to search to only be modules and executables.</p>

<dt><a name="munge_file"
>munge_file</a></dt>

<dd>
<p>tells which files to munge, see <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3ARole%3A%3AFileMunger" class="podlinkpod"
>Dist::Zilla::Role::FileMunger</a>.</p>

<dt><a name="finder"
>finder</a></dt>

<dd>
<p>Override the default <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3ARole%3A%3AFileFinder" class="podlinkpod"
>FileFinder</a> for finding files to check and update. The default value is <code>:InstallModules</code> and <code>:PerlExecFiles</code> (when available; otherwise <code>:ExecFiles</code>) -- see also <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3APlugin%3A%3AExecDir" class="podlinkpod"
>Dist::Zilla::Plugin::ExecDir</a>, to make sure the script files are properly marked as executables for the installer.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PROPERTIES"
>PROPERTIES</a></h1>

<dl>
<dt><a name="underscore_eval_version"
>underscore_eval_version</a></dt>

<dd>
<p>For version numbers that have an underscore in them, add this line immediately after the our version assignment:</p>

<pre class="sh_perl">        $VERSION = eval $VERSION;</pre>

<p>This is arguably the correct thing to do, but changes the line numbering of the generated Perl module or source, and thus optional.</p>

<dt><a name="semantic_version"
>semantic_version</a></dt>

<dd>
<p>Setting this property to &#34;true&#34; (1) will set the version of the module/distribution to properly use semantic versioning. It will also expect that you setup <code>version</code> with a v-string, without adding quotes. For example:</p>

<pre class="sh_perl">        version = v0.0.1</pre>

<p>Beware you can&#39;t setup both <code>underscore_eval_version</code> and <code>semantic_version</code> since both are mutually exclusive: if you try, your code is going to <code>die</code>.</p>

<p>For more details, check <a href="https://weblog.bulknews.net/how-to-correctly-use-semantic-version-vx-y-z-in-perl-modules-eb08568ab911" class="podlinkurl"
>this blog</a> for more details about using semantic version with Perl.</p>

<dt><a name="skip_main_module"
>skip_main_module</a></dt>

<dd>
<p>Set to true to ignore the main module in the distribution. This prevents a warning when using <a href="https://metacpan.org/pod/Dist%3A%3AZilla%3A%3APlugin%3A%3AVersionFromMainModule" class="podlinkpod"
>Dist::Zilla::Plugin::VersionFromMainModule</a> to obtain the version number instead of the <code>dist.ini</code> file.</p>

<dt><a name="overwrite"
>overwrite</a></dt>

<dd>
<p>When enabled, this option causes any match of the <code># VERSION</code> comment to first check for an existing <code>our $VERSION = ...;</code> on the same line, and if found, overwrite the value in the existing statement. (the comment still gets modified for trial releases)</p>

<p>Currently, the value must be a single Perl token such as a string or number.</p>

<dt><a name="no_critic"
>no_critic</a></dt>

<dd>
<p>When <code>underscore_eval_version</code> is used the generated code for dev versions may not technically be <a href="https://metacpan.org/pod/Perl%3A%3ACritic" class="podlinkpod"
>Perl::Critic</a> compliant due to string eval, but is nevertheless pretty safe. This option will add the appropriate <code>no critic</code> directive to save you the hassle.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Please report any bugs or feature requests on the bugtracker website <a href="https://github.com/plicease/dist-zilla-plugin-ourpkgversion/issues" class="podlinkurl"
>https://github.com/plicease/dist-zilla-plugin-ourpkgversion/issues</a></p>

<p>When submitting a bug or request, please include a test-file or a patch to an existing test-file that illustrates the bug or desired feature.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<ul>
<li>Alceu Rodrigues de Freitas Junior &#60;alceu.junior@quintoandar.com.br&#62;</li>

<li>Ian Sealy &#60;git@iansealy.com&#62;</li>

<li>Michael Conrad &#60;mike@nrdvana.net&#62;</li>

<li>Michael Jemmeson &#60;mjemmeson@cpan.org&#62;</li>

<li>Stephan Loyd &#60;stephanloyd9@gmail.com&#62;</li>

<li>Alceu Rodrigues de Freitas Junior &#60;arfreitas@cpan.org&#62;</li>

<li>Alexandr Ciornii &#60;alexchorny@gmail.com&#62;</li>

<li>Alexei Znamensky &#60;russoz@cpan.org&#62;</li>

<li>Christian Walde &#60;walde.christian@googlemail.com&#62;</li>

<li>Christopher J. Madsen &#60;perl@cjmweb.net&#62;</li>

<li>David Golden &#60;dagolden@cpan.org&#62;</li>

<li>Graham Ollis &#60;perl@wdlabs.com&#62;</li>

<li>Graham Ollis &#60;plicease@cpan.org&#62;</li>

<li>Graham&#9992;&#65039;&#9992;&#65039; &#60;plicease@cpan.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<ul>
<li>Caleb Cushing &#60;xenoterracide@gmail.com&#62;</li>

<li>Grahan Ollis &#60;plicease@cpan.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is Copyright (c) 2019 by Caleb Cushing.</p>

<p>This is free software, licensed under:</p>

<pre class="sh_perl">  The Artistic License 2.0 (GPL Compatible)</pre>


    <div class="nx-footer">
      <p>[
        <a href="https://alienfile.org">alienfile.org</a> |
        <a href="https://pl.atypus.org">pl.atypus.org</a> |
        <a href="https://perlwasm.github.io">perlwasm</a> |
        <a href="https://uperl.github.io">uperl</a>
      ] Copyright &copy; 2022 Graham Ollis</p>
    </div>
  </body>
</html>
