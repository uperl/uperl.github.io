<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MooseX::NonMoose</title>
    <script type="text/javascript" src="https://shjs.wdlabs.com/sh_main.min.js"></script>
    <script type="text/javascript" src="https://shjs.wdlabs.com/lang/sh_perl.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://shjs.wdlabs.com/css/sh_acid.css">
    <link type="text/css" rel="stylesheet" href="https://hatch.wdlabs.com/css/default.css">
  </head>
  <body onload="sh_highlightDocument();">
    <div class="nx-header-flag-1"></div>
    <div class="nx-header-flag-2"></div>
    <div class="nx-header-title"><a href="/">ðŸŒ»</a> <a href="/pod/">ðŸ“–</a> MooseX::NonMoose</div>
    <!--MooseX::NonMoose--><a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#BUGS%2FCAVEATS'>BUGS/CAVEATS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>MooseX::NonMoose - easy subclassing of non-Moose classes</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.27</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre class="sh_perl">  package Term::VT102::NBased;
  use Moose;
  use MooseX::NonMoose;
  extends &#39;Term::VT102&#39;;

  has [qw/x_base y_base/] =&#62; (
      is      =&#62; &#39;ro&#39;,
      isa     =&#62; &#39;Int&#39;,
      default =&#62; 1,
  );

  around x =&#62; sub {
      my $orig = shift;
      my $self = shift;
      $self-&#62;$orig(@_) + $self-&#62;x_base - 1;
  };

  # ... (wrap other methods)

  no Moose;
  # no need to fiddle with inline_constructor here
  __PACKAGE__-&#62;meta-&#62;make_immutable;

  my $vt = Term::VT102::NBased-&#62;new(x_base =&#62; 0, y_base =&#62; 0);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>MooseX::NonMoose</code> allows for easily subclassing non-Moose classes with Moose, taking care of the annoying details connected with doing this, such as setting up proper inheritance from <a href="https://metacpan.org/pod/Moose%3A%3AObject" class="podlinkpod"
>Moose::Object</a> and installing (and inlining, at <code>make_immutable</code> time) a constructor that makes sure things like <code>BUILD</code> methods are called. It tries to be as non-intrusive as possible - when this module is used, inheriting from non-Moose classes and inheriting from Moose classes should work identically, aside from the few caveats mentioned below. One of the goals of this module is that including it in a <a href="https://metacpan.org/pod/Moose%3A%3AExporter" class="podlinkpod"
>Moose::Exporter</a>-based package used across an entire application should be possible, without interfering with classes that only inherit from Moose modules, or even classes that don&#39;t inherit from anything at all.</p>

<p>There are several ways to use this module. The most straightforward is to just <code>use MooseX::NonMoose;</code> in your class; this should set up everything necessary for extending non-Moose modules. <a href="/pod/MooseX/NonMoose/Meta/Role/Class.html" class="podlinkpod"
>MooseX::NonMoose::Meta::Role::Class</a> and <a href="/pod/MooseX/NonMoose/Meta/Role/Constructor.html" class="podlinkpod"
>MooseX::NonMoose::Meta::Role::Constructor</a> can also be applied to your metaclasses manually, either by passing a <code>-traits</code> option to your <code>use Moose;</code> line, or by applying them using <a href="https://metacpan.org/pod/Moose%3A%3AUtil%3A%3AMetaRole" class="podlinkpod"
>Moose::Util::MetaRole</a> in a <a href="https://metacpan.org/pod/Moose%3A%3AExporter" class="podlinkpod"
>Moose::Exporter</a>-based package. <a href="/pod/MooseX/NonMoose/Meta/Role/Class.html" class="podlinkpod"
>MooseX::NonMoose::Meta::Role::Class</a> is the part that provides the main functionality of this module; if you don&#39;t care about inlining, this is all you need to worry about. Applying <a href="/pod/MooseX/NonMoose/Meta/Role/Constructor.html" class="podlinkpod"
>MooseX::NonMoose::Meta::Role::Constructor</a> as well will provide an inlined constructor when you immutabilize your class.</p>

<p><code>MooseX::NonMoose</code> allows you to manipulate the argument list that gets passed to the superclass constructor by defining a <code>FOREIGNBUILDARGS</code> method. This is called with the same argument list as the <code>BUILDARGS</code> method, but should return a list of arguments to pass to the superclass constructor. This allows <code>MooseX::NonMoose</code> to support superclasses whose constructors would get confused by the extra arguments that Moose requires (for attributes, etc.)</p>

<p>Not all non-Moose classes use <code>new</code> as the name of their constructor. This module allows you to extend these classes by explicitly stating which method is the constructor, during the call to <code>extends</code>. The syntax looks like this:</p>

<pre class="sh_perl">  extends &#39;Foo&#39; =&#62; { -constructor_name =&#62; &#39;create&#39; };</pre>

<p>similar to how you can already pass <code>-version</code> in the <code>extends</code> call in a similar way.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS/CAVEATS"
>BUGS/CAVEATS</a></h1>

<ul>
<li>The reference that the non-Moose class uses as its instance type <b>must</b> match the instance type that Moose is using. Moose&#39;s default instance type is a hashref, but other modules exist to make Moose use other instance types. <a href="https://metacpan.org/pod/MooseX%3A%3AInsideOut" class="podlinkpod"
>MooseX::InsideOut</a> is the most general solution - it should work with any class. For globref-based classes in particular, <a href="https://metacpan.org/pod/MooseX%3A%3AGlobRef" class="podlinkpod"
>MooseX::GlobRef</a> will also allow Moose to work. For more information, see the <code>032-moosex-insideout</code> and <code>033-moosex-globref</code> tests bundled with this dist.</li>

<li>Modifying your class&#39; <code>@ISA</code> after an initial <code>extends</code> call will potentially cause problems if any of those new entries in the <code>@ISA</code> override the constructor. <code>MooseX::NonMoose</code> wraps the nearest <code>new()</code> method at the time <code>extends</code> is called and will not see any other <code>new()</code> methods in the @ISA hierarchy.</li>

<li>Completely overriding the constructor in a class using <code>MooseX::NonMoose</code> (i.e. using <code>sub new { ... }</code>) currently doesn&#39;t work, although using method modifiers on the constructor should work identically to normal Moose classes.</li>
</ul>

<p>Please report any bugs to GitHub Issues at <a href="https://github.com/uperl/moosex-nonmoose/issues" class="podlinkurl"
>https://github.com/uperl/moosex-nonmoose/issues</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<ul>
<li><a href="https://metacpan.org/pod/Moose%3A%3AManual%3A%3AFAQ#How_do_I_make_non-Moose_constructors_work_with_Moose%3F" class="podlinkpod"
>&#34;How do I make non-Moose constructors work with Moose?&#34; in Moose::Manual::FAQ</a></li>

<li><a href="https://metacpan.org/pod/MooseX%3A%3AAlien" class="podlinkpod"
>MooseX::Alien</a>
<p>serves the same purpose, but with a radically different (and far more hackish) implementation.</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>You can find this documentation for this module with the perldoc command.</p>

<pre class="sh_perl">    perldoc MooseX::NonMoose</pre>

<p>You can also look for information at:</p>

<ul>
<li>MetaCPAN
<p><a href="https://metacpan.org/release/MooseX-NonMoose" class="podlinkurl"
>https://metacpan.org/release/MooseX-NonMoose</a></p>
</li>

<li>Github
<p><a href="https://github.com/uperl/moosex-nonmoose" class="podlinkurl"
>https://github.com/uperl/moosex-nonmoose</a></p>
</li>

<li>RT: CPAN&#39;s request tracker
<p><a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=MooseX-NonMoose" class="podlinkurl"
>http://rt.cpan.org/NoAuth/Bugs.html?Dist=MooseX-NonMoose</a></p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Original author: Jesse Luehrs &#60;doy@tozt.net&#62;</p>

<p>Current maintainer: Graham Ollis &#60;plicease@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2009-2025 by Jesse Luehrs.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>


    <div class="nx-footer">
      <p>
        [
            <a href="https://www.wdlabs.com">www.wdlabs.com</a> |
            <a href="https://alienfile.org">alienfile.org</a> |
            <a href="https://pl.atypus.org">pl.atypus.org</a> |
            <a href="https://perlwasm.github.io">perlwasm</a> |
            <a href="https://uperl.github.io">uperl</a>
        ]
        Copyright &copy; 2022 Graham Ollis
      </p>
    </div>
  </body>
</html>
